jobs:
- job: Build
  displayName: Build Maven Project
  pool:
    name: Azure Pipeline
    demands: agent.os -equals Linux
  steps:
  - task: Maven@3
    displayName: 'Maven Package'
    inputs:
      mavenPomFile: 'pom.xml'
  - task: PublishBuildArtifacts@1
    displayName: 'PublishBuildArtifacts'
    inputs:
      pathtoPublish: '$(System.DefaultWorkingDirectory)'
      artifactName: Helloworld

- job: Deploy
  pool:
    name: Azure Pipeline
    demands: agent.os -equals Linux
  steps:
  - checkout: none
  - task: DownloadBuildArtifacts@0
    displayName: 'Download Build Artifacts'
    inputs:
      artifactName: Helloworld
      downloadPath: $(System.DefaultWorkingDirectory)
      
  dependsOn: Build
  condition: succeeded()